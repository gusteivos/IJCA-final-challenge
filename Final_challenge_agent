{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/gusteivos/IJCA-final-challenge/blob/main/Final_challenge_agent\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "pip install google-adk google-generativeai -q\n"
      ],
      "metadata": {
        "id": "MptgD7DhZbev"
      },
      "execution_count": 1,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import os\n",
        "import re\n",
        "import asyncio\n",
        "from IPython.display import display, Markdown\n",
        "from google.colab import userdata"
      ],
      "metadata": {
        "id": "BLIDapxbaxAc"
      },
      "execution_count": 2,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import google.generativeai as genai\n",
        "from google.adk.agents import Agent\n",
        "from google.adk.tools import google_search\n",
        "from google.adk.runners import Runner\n",
        "from google.adk.sessions import InMemorySessionService, Session\n",
        "from google.genai.types import Content, Part"
      ],
      "metadata": {
        "collapsed": true,
        "id": "YlmJ2Y9WayBN",
        "outputId": "16178d8d-feea-40c5-edda-dca2a1139924",
        "colab": {
          "base_uri": "https://localhost:8080/"
        }
      },
      "execution_count": 3,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "/usr/local/lib/python3.12/dist-packages/google/cloud/aiplatform/models.py:52: FutureWarning: Support for google-cloud-storage < 3.0.0 will be removed in a future version of google-cloud-aiplatform. Please upgrade to google-cloud-storage >= 3.0.0.\n",
            "  from google.cloud.aiplatform.utils import gcs_utils\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "api_key=userdata.get('Final_challenge_grupo4')\n",
        "genai.configure(api_key=api_key)\n",
        "os.environ['GOOGLE_API_KEY'] = api_key"
      ],
      "metadata": {
        "id": "ePGLYA5aa-Me"
      },
      "execution_count": 4,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "def agente_de_buscas_no_google():\n",
        "  return Agent(\n",
        "      name=\"Final_Challenge_agent\",\n",
        "      model=\"gemini-2.5-flash\",\n",
        "      description=\"Agente especializado em buscas gerais no Google\",\n",
        "      instruction=\"\"\"\n",
        "      Voc√™ √© um agente especializado em buscas no Google, sua principal tarefa\n",
        "      √© receber o que o usu√°rio deseja buscar e realizar a pesquisa no google\n",
        "      utilizando a tool \"google_search\"\n",
        "\n",
        "      Sempre responda utilizando o formato de markdown\n",
        "      \"\"\",\n",
        "      tools=[google_search]\n",
        "  )\n",
        "\n",
        "agente_de_buscas = agente_de_buscas_no_google()"
      ],
      "metadata": {
        "id": "vyvmiaEbb9vp"
      },
      "execution_count": 5,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "async def run_agent_query(agent: Agent, query: str, session: Session, user_id: str, is_router: bool = False):\n",
        "    \"\"\"Initializes a runner and executes a query for a given agent and session.\"\"\"\n",
        "    print(f\"\\nüöÄ Running query for agent: '{agent.name}' in session: '{session.id}'...\")\n",
        "\n",
        "    runner = Runner(\n",
        "        agent=agent,\n",
        "        session_service=session_service,\n",
        "        app_name=agent.name\n",
        "    )\n",
        "\n",
        "    final_response = \"\"\n",
        "    try:\n",
        "        async for event in runner.run_async(\n",
        "            user_id=user_id,\n",
        "            session_id=session.id,\n",
        "            new_message=Content(parts=[Part(text=query)], role=\"user\")\n",
        "        ):\n",
        "            if not is_router:\n",
        "                # Let's see what the agent is thinking!\n",
        "                print(f\"EVENT: {event}\")\n",
        "            if event.is_final_response():\n",
        "                final_response = event.content.parts[0].text\n",
        "    except Exception as e:\n",
        "        final_response = f\"An error occurred: {e}\"\n",
        "\n",
        "    if not is_router:\n",
        "     print(\"\\n\" + \"-\"*50)\n",
        "     print(\"‚úÖ Final Response:\")\n",
        "     display(Markdown(final_response))\n",
        "     print(\"-\"*50 + \"\\n\")\n",
        "\n",
        "    return final_response\n",
        "\n",
        "# --- Initialize our Session Service ---\n",
        "# This one service will manage all the different sessions in our notebook.\n",
        "session_service = InMemorySessionService()\n",
        "my_user_id = \"adk_adventurer_001\""
      ],
      "metadata": {
        "id": "Im0IScoQcGoS"
      },
      "execution_count": 6,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "async def consulta():\n",
        "  minha_sessao = await session_service.create_session(\n",
        "        app_name=agente_de_buscas.name,\n",
        "        user_id=my_user_id\n",
        "    )\n",
        "  query = \"Me diga quantos acidentes anuais acontencem na BR-116\" # @param {type: \"string\", placeholder: \"Fa√ßa sua query\"}\n",
        "\n",
        "  await run_agent_query(agente_de_buscas, query, minha_sessao, my_user_id)"
      ],
      "metadata": {
        "id": "0umZKQxpcKxL"
      },
      "execution_count": 9,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "await consulta()"
      ],
      "metadata": {
        "id": "yCNiKIltcPbh",
        "outputId": "dcc850a5-e6de-4e84-f9e8-ad58f50f24be",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000
        }
      },
      "execution_count": 10,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\n",
            "üöÄ Running query for agent: 'Final_Challenge_agent' in session: 'e49d10e2-d3b1-4125-ae09-74d72bcc1ef9'...\n",
            "EVENT: content=Content(\n",
            "  parts=[\n",
            "    Part(\n",
            "      text=\"\"\"A BR-116, uma das principais rodovias do Brasil, registra um n√∫mero elevado de acidentes anualmente. Os dados variam dependendo da fonte e do per√≠odo analisado:\n",
            "\n",
            "*   Em **2020**, foram registrados 7.397 acidentes na BR-116.\n",
            "*   Em **2023**, a rodovia teve 87.063 ocorr√™ncias de acidentes, sendo a rodovia com o maior n√∫mero de acidentes no pa√≠s.\n",
            "*   At√© **outubro de 2024**, a Pol√≠cia Rodovi√°ria Federal (PRF) j√° havia registrado 70.052 acidentes na BR-116.\n",
            "*   O Anu√°rio Estat√≠stico de 2024 da PRF indicou 11.478 sinistros na BR-116.\n",
            "\n",
            "√â importante notar que a imprud√™ncia dos motoristas √© apontada como a principal causa dos acidentes.\"\"\"\n",
            "    ),\n",
            "  ],\n",
            "  role='model'\n",
            ") grounding_metadata=GroundingMetadata(\n",
            "  grounding_chunks=[\n",
            "    GroundingChunk(\n",
            "      web=GroundingChunkWeb(\n",
            "        title='abtlp.org.br',\n",
            "        uri='https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF0ACcV9DKGYOqP3qQqSsxBlldm-8PQAjM__T1aY8CjWi3NDkDeb-F-DBAAUCgeI3sKUPDuqzDrNMpNhIEzxB0BsGb7ZerCF2eLUYu7THOBR_UgbGmLZCr1jd1SVq2I2VC2DMsOkIaiY5TZjzdJMV4KJteiPovSE44xjzPKuZk3KUWfz5-yagsN3zXKdw_V_sce7w=='\n",
            "      )\n",
            "    ),\n",
            "    GroundingChunk(\n",
            "      web=GroundingChunkWeb(\n",
            "        title='uninter.com',\n",
            "        uri='https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGhkVcK54XHXBjmUM9DA2ljRB5Hi4o8rakQMqSMr13MM339nkU_T4RnYbc2rxn_vcplP3AifHsmNxz9ro9FHi231Td8h8MI3n72vuPxJt2nvmaPX8XzQE8iSCdEH7cyv_ftiXfQ4295HCVIHXpfLm8-UiZhMMkK8me0_bgQlZIdM62GmQ=='\n",
            "      )\n",
            "    ),\n",
            "    GroundingChunk(\n",
            "      web=GroundingChunkWeb(\n",
            "        title='portaldotransito.com.br',\n",
            "        uri='https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEOt1sgIPYay7IAwOR5ifgDclhmdBmxZMouSTW_pe9FQaufZrAUuFiYszzoa-tyPOt-aGdxaSdDVv60quQMts0PgQokzS13T8Yg9DktJdM9ze45BbUIxens8a8cSbtLYFXyIKeTPKAxl2dty-575MAsy5LZbwAccnkZyCW1nInrhoBJ0S6v8lG-c_7aK-zJL3Ksa3BBkXyAkx4gVU6B9d8IixBr9ghpW36hzLWcU6UiZx91QzlRak-YTiTx6jn7j2GfExLLfG5tcLzXvXKQ2FWp8KrEvjXurIJ5QzE5'\n",
            "      )\n",
            "    ),\n",
            "    GroundingChunk(\n",
            "      web=GroundingChunkWeb(\n",
            "        title='youtube.com',\n",
            "        uri='https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHWKI08mg4LPIU39dGxXgUg97cu_N0zIQFvEiyL-cwA7QDKsADLpiFXOQr8tIAbPW81SQR17ABUMzNFt3fhY1-aqiAnuXFwXdes1aBw2wamYNbjQwj8rQLaTFV8rk0-wSCWjRhsTcE='\n",
            "      )\n",
            "    ),\n",
            "    GroundingChunk(\n",
            "      web=GroundingChunkWeb(\n",
            "        title='r7.com',\n",
            "        uri='https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEwY7IF_Wdu8uxl8PUnraLUBFtwfuOUt9MpBAiNYLdq9k3v_EHLWNxTpDyKgaDWk5uW-v71nmoqcpEAUgKqQVo8m9EWcvLcfH9lS4XIagHl_IM6uYqYNcQF25qBCmONTre7ajdmcpkDYM4uQ510NPnyqD8nJ65Vg-CUvRZVURr1huKJxcalZ18KvOvE5QvagHrov08pqmtQblUH4-q9wsaJVRwhZQHsJ7FmWtm5jhWQr2cAjVMkWDFjLj0SyhvspzsgYsCnrfyfyZyqUg=='\n",
            "      )\n",
            "    ),\n",
            "  ],\n",
            "  grounding_supports=[\n",
            "    GroundingSupport(\n",
            "      grounding_chunk_indices=[\n",
            "        0,\n",
            "      ],\n",
            "      segment=Segment(\n",
            "        end_index=224,\n",
            "        start_index=164,\n",
            "        text='*   Em **2020**, foram registrados 7.397 acidentes na BR-116'\n",
            "      )\n",
            "    ),\n",
            "    GroundingSupport(\n",
            "      grounding_chunk_indices=[\n",
            "        1,\n",
            "      ],\n",
            "      segment=Segment(\n",
            "        end_index=349,\n",
            "        start_index=226,\n",
            "        text='*   Em **2023**, a rodovia teve 87.063 ocorr√™ncias de acidentes, sendo a rodovia com o maior n√∫mero de acidentes no pa√≠s'\n",
            "      )\n",
            "    ),\n",
            "    GroundingSupport(\n",
            "      grounding_chunk_indices=[\n",
            "        1,\n",
            "      ],\n",
            "      segment=Segment(\n",
            "        end_index=465,\n",
            "        start_index=351,\n",
            "        text='*   At√© **outubro de 2024**, a Pol√≠cia Rodovi√°ria Federal (PRF) j√° havia registrado 70.052 acidentes na BR-116'\n",
            "      )\n",
            "    ),\n",
            "    GroundingSupport(\n",
            "      grounding_chunk_indices=[\n",
            "        2,\n",
            "      ],\n",
            "      segment=Segment(\n",
            "        end_index=544,\n",
            "        start_index=467,\n",
            "        text='*   O Anu√°rio Estat√≠stico de 2024 da PRF indicou 11.478 sinistros na BR-116'\n",
            "      )\n",
            "    ),\n",
            "    GroundingSupport(\n",
            "      grounding_chunk_indices=[\n",
            "        3,\n",
            "        4,\n",
            "      ],\n",
            "      segment=Segment(\n",
            "        end_index=650,\n",
            "        start_index=547,\n",
            "        text='√â importante notar que a imprud√™ncia dos motoristas √© apontada como a principal causa dos acidentes.'\n",
            "      )\n",
            "    ),\n",
            "  ],\n",
            "  search_entry_point=SearchEntryPoint(\n",
            "    rendered_content=\"\"\"<style>\n",
            ".container {\n",
            "  align-items: center;\n",
            "  border-radius: 8px;\n",
            "  display: flex;\n",
            "  font-family: Google Sans, Roboto, sans-serif;\n",
            "  font-size: 14px;\n",
            "  line-height: 20px;\n",
            "  padding: 8px 12px;\n",
            "}\n",
            ".chip {\n",
            "  display: inline-block;\n",
            "  border: solid 1px;\n",
            "  border-radius: 16px;\n",
            "  min-width: 14px;\n",
            "  padding: 5px 16px;\n",
            "  text-align: center;\n",
            "  user-select: none;\n",
            "  margin: 0 8px;\n",
            "  -webkit-tap-highlight-color: transparent;\n",
            "}\n",
            ".carousel {\n",
            "  overflow: auto;\n",
            "  scrollbar-width: none;\n",
            "  white-space: nowrap;\n",
            "  margin-right: -12px;\n",
            "}\n",
            ".headline {\n",
            "  display: flex;\n",
            "  margin-right: 4px;\n",
            "}\n",
            ".gradient-container {\n",
            "  position: relative;\n",
            "}\n",
            ".gradient {\n",
            "  position: absolute;\n",
            "  transform: translate(3px, -9px);\n",
            "  height: 36px;\n",
            "  width: 9px;\n",
            "}\n",
            "@media (prefers-color-scheme: light) {\n",
            "  .container {\n",
            "    background-color: #fafafa;\n",
            "    box-shadow: 0 0 0 1px #0000000f;\n",
            "  }\n",
            "  .headline-label {\n",
            "    color: #1f1f1f;\n",
            "  }\n",
            "  .chip {\n",
            "    background-color: #ffffff;\n",
            "    border-color: #d2d2d2;\n",
            "    color: #5e5e5e;\n",
            "    text-decoration: none;\n",
            "  }\n",
            "  .chip:hover {\n",
            "    background-color: #f2f2f2;\n",
            "  }\n",
            "  .chip:focus {\n",
            "    background-color: #f2f2f2;\n",
            "  }\n",
            "  .chip:active {\n",
            "    background-color: #d8d8d8;\n",
            "    border-color: #b6b6b6;\n",
            "  }\n",
            "  .logo-dark {\n",
            "    display: none;\n",
            "  }\n",
            "  .gradient {\n",
            "    background: linear-gradient(90deg, #fafafa 15%, #fafafa00 100%);\n",
            "  }\n",
            "}\n",
            "@media (prefers-color-scheme: dark) {\n",
            "  .container {\n",
            "    background-color: #1f1f1f;\n",
            "    box-shadow: 0 0 0 1px #ffffff26;\n",
            "  }\n",
            "  .headline-label {\n",
            "    color: #fff;\n",
            "  }\n",
            "  .chip {\n",
            "    background-color: #2c2c2c;\n",
            "    border-color: #3c4043;\n",
            "    color: #fff;\n",
            "    text-decoration: none;\n",
            "  }\n",
            "  .chip:hover {\n",
            "    background-color: #353536;\n",
            "  }\n",
            "  .chip:focus {\n",
            "    background-color: #353536;\n",
            "  }\n",
            "  .chip:active {\n",
            "    background-color: #464849;\n",
            "    border-color: #53575b;\n",
            "  }\n",
            "  .logo-light {\n",
            "    display: none;\n",
            "  }\n",
            "  .gradient {\n",
            "    background: linear-gradient(90deg, #1f1f1f 15%, #1f1f1f00 100%);\n",
            "  }\n",
            "}\n",
            "</style>\n",
            "<div class=\"container\">\n",
            "  <div class=\"headline\">\n",
            "    <svg class=\"logo-light\" width=\"18\" height=\"18\" viewBox=\"9 9 35 35\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n",
            "      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M42.8622 27.0064C42.8622 25.7839 42.7525 24.6084 42.5487 23.4799H26.3109V30.1568H35.5897C35.1821 32.3041 33.9596 34.1222 32.1258 35.3448V39.6864H37.7213C40.9814 36.677 42.8622 32.2571 42.8622 27.0064V27.0064Z\" fill=\"#4285F4\"/>\n",
            "      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M26.3109 43.8555C30.9659 43.8555 34.8687 42.3195 37.7213 39.6863L32.1258 35.3447C30.5898 36.3792 28.6306 37.0061 26.3109 37.0061C21.8282 37.0061 18.0195 33.9811 16.6559 29.906H10.9194V34.3573C13.7563 39.9841 19.5712 43.8555 26.3109 43.8555V43.8555Z\" fill=\"#34A853\"/>\n",
            "      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16.6559 29.8904C16.3111 28.8559 16.1074 27.7588 16.1074 26.6146C16.1074 25.4704 16.3111 24.3733 16.6559 23.3388V18.8875H10.9194C9.74388 21.2072 9.06992 23.8247 9.06992 26.6146C9.06992 29.4045 9.74388 32.022 10.9194 34.3417L15.3864 30.8621L16.6559 29.8904V29.8904Z\" fill=\"#FBBC05\"/>\n",
            "      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M26.3109 16.2386C28.85 16.2386 31.107 17.1164 32.9095 18.8091L37.8466 13.8719C34.853 11.082 30.9659 9.3736 26.3109 9.3736C19.5712 9.3736 13.7563 13.245 10.9194 18.8875L16.6559 23.3388C18.0195 19.2636 21.8282 16.2386 26.3109 16.2386V16.2386Z\" fill=\"#EA4335\"/>\n",
            "    </svg>\n",
            "    <svg class=\"logo-dark\" width=\"18\" height=\"18\" viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\">\n",
            "      <circle cx=\"24\" cy=\"23\" fill=\"#FFF\" r=\"22\"/>\n",
            "      <path d=\"M33.76 34.26c2.75-2.56 4.49-6.37 4.49-11.26 0-.89-.08-1.84-.29-3H24.01v5.99h8.03c-.4 2.02-1.5 3.56-3.07 4.56v.75l3.91 2.97h.88z\" fill=\"#4285F4\"/>\n",
            "      <path d=\"M15.58 25.77A8.845 8.845 0 0 0 24 31.86c1.92 0 3.62-.46 4.97-1.31l4.79 3.71C31.14 36.7 27.65 38 24 38c-5.93 0-11.01-3.4-13.45-8.36l.17-1.01 4.06-2.85h.8z\" fill=\"#34A853\"/>\n",
            "      <path d=\"M15.59 20.21a8.864 8.864 0 0 0 0 5.58l-5.03 3.86c-.98-2-1.53-4.25-1.53-6.64 0-2.39.55-4.64 1.53-6.64l1-.22 3.81 2.98.22 1.08z\" fill=\"#FBBC05\"/>\n",
            "      <path d=\"M24 14.14c2.11 0 4.02.75 5.52 1.98l4.36-4.36C31.22 9.43 27.81 8 24 8c-5.93 0-11.01 3.4-13.45 8.36l5.03 3.85A8.86 8.86 0 0 1 24 14.14z\" fill=\"#EA4335\"/>\n",
            "    </svg>\n",
            "    <div class=\"gradient-container\"><div class=\"gradient\"></div></div>\n",
            "  </div>\n",
            "  <div class=\"carousel\">\n",
            "    <a class=\"chip\" href=\"https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQH9JRDJPd2WNGdFDVUfNqdhozviEc8EwGaNulKBdD6N2NFR_9GimwhWQtkTaHrh2jDhbGow6unc5Ro4sByQE5kwrr-bpFwCL2mAO54Yw9lmw-geausXKPLmmejQ-R79BpbkmU9VpZW6eFwaJN6sWLYbt6w-7_0cPC0r9RS5dFyDb0CTzH8gQNMy_fvXVL3K5RtxEUonl3cPNE1J3wGEK4_6wGccwrDhRceVCw==\">n√∫mero de acidentes BR-116 por ano</a>\n",
            "    <a class=\"chip\" href=\"https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFhnCGvGXYglUi0spo3F4sSr4-umVt4P9GLqw6iV6-pjFHN6EauD6WpuFSrR2JbliPUkU_lXHhdl6rLQKifs4g8YDp7sS9zkUxJrAxy5LW45IC7KB6gcu3CL6NsqlnywYebpOP39t6UtbnpcYrMRRyWKhy_eb0boeyUNCSDaSvgyk_dImLtstlSFhvp5UWm6GyfDwG0KXwTTpd0\">acidentes anuais BR-116</a>\n",
            "    <a class=\"chip\" href=\"https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQH3SghHMMVhe5s6akY_YkTpupU9Qi6mNyokdR7_8VOW21n73uEfnCMUeRR5M4ZjeAIukS1Rm0ANTtTcuObmAR6BflSX7U0-9pl8S0VdYMgC1GAw1Yyl7XMer6gL7jg-l2igtNzeXmAOfkVGyUuZgGWTm_rDJft9XtkH88wUNpgvtSnE2iexCgCa_7hhs9_WRNmjBOwOealcv7UZlW7pRE4oe7b9inmmCE8=\">estat√≠sticas de acidentes BR-116</a>\n",
            "  </div>\n",
            "</div>\n",
            "\"\"\"\n",
            "  ),\n",
            "  web_search_queries=[\n",
            "    'acidentes anuais BR-116',\n",
            "    'n√∫mero de acidentes BR-116 por ano',\n",
            "    'estat√≠sticas de acidentes BR-116',\n",
            "  ]\n",
            ") partial=None turn_complete=None finish_reason=<FinishReason.STOP: 'STOP'> error_code=None error_message=None interrupted=None custom_metadata=None usage_metadata=GenerateContentResponseUsageMetadata(\n",
            "  candidates_token_count=265,\n",
            "  prompt_token_count=107,\n",
            "  prompt_tokens_details=[\n",
            "    ModalityTokenCount(\n",
            "      modality=<MediaModality.TEXT: 'TEXT'>,\n",
            "      token_count=107\n",
            "    ),\n",
            "  ],\n",
            "  thoughts_token_count=628,\n",
            "  tool_use_prompt_token_count=200,\n",
            "  tool_use_prompt_tokens_details=[\n",
            "    ModalityTokenCount(\n",
            "      modality=<MediaModality.TEXT: 'TEXT'>,\n",
            "      token_count=200\n",
            "    ),\n",
            "  ],\n",
            "  total_token_count=1200\n",
            ") live_session_resumption_update=None input_transcription=None output_transcription=None avg_logprobs=None logprobs_result=None cache_metadata=None citation_metadata=None invocation_id='e-d4ecc0d0-7eb2-40e7-9de4-b6e5e70ff8bc' author='Final_Challenge_agent' actions=EventActions(skip_summarization=None, state_delta={}, artifact_delta={}, transfer_to_agent=None, escalate=None, requested_auth_configs={}, requested_tool_confirmations={}, compaction=None, end_of_agent=None, agent_state=None, rewind_before_invocation_id=None) long_running_tool_ids=None branch=None id='487f8b62-da1d-4659-9282-cae4bdb5a60c' timestamp=1763846494.340454\n",
            "\n",
            "--------------------------------------------------\n",
            "‚úÖ Final Response:\n"
          ]
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<IPython.core.display.Markdown object>"
            ],
            "text/markdown": "A BR-116, uma das principais rodovias do Brasil, registra um n√∫mero elevado de acidentes anualmente. Os dados variam dependendo da fonte e do per√≠odo analisado:\n\n*   Em **2020**, foram registrados 7.397 acidentes na BR-116.\n*   Em **2023**, a rodovia teve 87.063 ocorr√™ncias de acidentes, sendo a rodovia com o maior n√∫mero de acidentes no pa√≠s.\n*   At√© **outubro de 2024**, a Pol√≠cia Rodovi√°ria Federal (PRF) j√° havia registrado 70.052 acidentes na BR-116.\n*   O Anu√°rio Estat√≠stico de 2024 da PRF indicou 11.478 sinistros na BR-116.\n\n√â importante notar que a imprud√™ncia dos motoristas √© apontada como a principal causa dos acidentes."
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "--------------------------------------------------\n",
            "\n"
          ]
        }
      ]
    }
  ],
  "metadata": {
    "colab": {
      "name": "Conhe√ßa o Colab",
      "provenance": [],
      "include_colab_link": true
    },
    "kernelspec": {
      "display_name": "Python 3",
      "name": "python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}